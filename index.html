<!DOCTYPE html>
<html>
<head>
<title>For You ðŸ’–</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  text-align: center;
  font-family: Arial;
  background-color: pink;
  margin: 0;
  padding-top: 50px;
  min-height: 100vh;
  overflow-y: auto; /* allow scrolling */
}

/* Buttons styling */
button {
  padding: 12px 25px;
  font-size: 18px;
  margin: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
  max-width: 80%;
}

/* YES button sparkle/shake */
#yesBtn {
  position: relative;
}

#yesBtn:hover {
  animation: shake 0.5s infinite;
  box-shadow: 0 0 15px 5px #ff69b4, 0 0 20px 10px #ffb6c1;
}

@keyframes shake {
  0% { transform: translate(1px, 1px) rotate(0deg); }
  10% { transform: translate(-1px, -2px) rotate(-1deg); }
  20% { transform: translate(-3px, 0px) rotate(1deg); }
  30% { transform: translate(3px, 2px) rotate(0deg); }
  40% { transform: translate(1px, -1px) rotate(1deg); }
  50% { transform: translate(-1px, 2px) rotate(-1deg); }
  60% { transform: translate(-3px, 1px) rotate(0deg); }
  70% { transform: translate(3px, 1px) rotate(-1deg); }
  80% { transform: translate(-1px, -1px) rotate(1deg); }
  90% { transform: translate(1px, 2px) rotate(0deg); }
  100% { transform: translate(1px, -2px) rotate(-1deg); }
}

/* Image styling */
#main img, #main .fallback {
  border-radius: 20px;
  display: block;
  margin: 20px auto;
  max-width: 90%;
  height: auto;
}

/* Main container padding so bottom message isn't hidden */
#main {
  max-width: 100%;
  padding-bottom: 200px; /* extra space for scrolling */
  position: relative; /* NO button relative inside main */
}

/* Confetti canvas */
#confetti-canvas {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  width: 100%;
  height: 100%;
  z-index: 9999;
}

/* Passcode input field */
input[type="password"] {
  padding: 10px;
  font-size: 16px;
  width: 70%;
  max-width: 250px;
  box-sizing: border-box;
}

/* Mobile-friendly adjustments */
@media (max-width: 500px) {
  h2 {
    font-size: 18px;
  }

  button {
    font-size: 16px;
    padding: 10px 20px;
  }

  input[type="password"] {
    width: 90%;
  }
}

/* NO button absolute inside main */
#noBtn {
  position: absolute;
}

/* Fallback emoji spinning animation */
@keyframes spinFloat {
  0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
  100% { transform: translate(0, -150px) rotate(360deg); opacity: 0; }
}
</style>
</head>

<body>

<div id="login">
  <h2>Enter Passcode ðŸ’Œ</h2>
  <input type="password" id="code">
  <br><br>
  <button onclick="checkCode()">Submit</button>
  <p id="message"></p>
</div>

<div id="main" style="display:none;">

<h1>Hey Deetya ðŸ˜Š</h1>

<h1>I Have a Question...</h1>

  
<!-- Image with fallback emoji -->
<img src="IMG_1128.jpeg" width="300" alt="A special memory ðŸ’–" onerror="showFallback()">
<div class="fallback" style="display:none; font-size: 100px;">ðŸ’–</div>

  
<h2>Will you make another memory with me on Valentine's? ðŸ’Œ</h2>

<button id="yesBtn" onclick="yes()">YES ðŸ’–</button>
<button id="noBtn">No ðŸ˜¢</button>

<p id="response"></p>

</div>

<!-- Canvas for confetti -->
<canvas id="confetti-canvas"></canvas>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script>
// Show fallback emoji if image fails
function showFallback() {
  const img = document.querySelector("#main img");
  img.style.display = "none";
  const fallback = document.querySelector("#main .fallback");
  fallback.style.display = "block";

  // Floating spinning animation for fallback ðŸ’–
  setInterval(() => {
    const floating = fallback.cloneNode(true);
    floating.style.display = "block";
    floating.style.position = "absolute";
    const rect = fallback.getBoundingClientRect();
    const scrollTop = window.scrollY || document.documentElement.scrollTop;
    const scrollLeft = window.scrollX || document.documentElement.scrollLeft;
    floating.style.left = rect.left + scrollLeft + "px";
    floating.style.top = rect.top + scrollTop + "px";
    floating.style.fontSize = "60px";
    floating.style.animation = "spinFloat 1.5s linear forwards";
    document.body.appendChild(floating);
    setTimeout(() => floating.remove(), 1600);
  }, 300);
}

function checkCode() {
  var input = document.getElementById("code").value;

  if (input == "deetyalu") {
    document.getElementById("login").style.display = "none";
    document.getElementById("main").style.display = "block";
    startNoChase();
  } else {
    document.getElementById("message").innerHTML = "Wrong code ðŸ˜•";
  }
}

function yes() {
  document.getElementById("response").innerHTML =
  "YAY!!! I LOVE YOU DEETYA!!! ðŸ¥°ðŸ˜˜ðŸ’•";
  confetti({
    particleCount: 200,
    spread: 70,
    origin: { y: 0.6 }
  });
}

function no() {
  document.getElementById("response").innerHTML =
  "you dont love me???? ðŸ˜”ðŸ˜”ðŸ˜” try again!";
}

// NO button chases cursor/touch inside main container
function startNoChase() {
  const noBtn = document.getElementById("noBtn");
  const main = document.getElementById("main");

  function moveButton(x, y) {
    const rect = noBtn.getBoundingClientRect();
    const offset = 50;

    let dx = rect.left + rect.width / 2 - x;
    let dy = rect.top + rect.height / 2 - y;
    let distance = Math.sqrt(dx*dx + dy*dy);

    if (distance < 100) {
      let moveX = (dx / distance) * offset;
      let moveY = (dy / distance) * offset;

      let newX = rect.left + moveX - main.getBoundingClientRect().left;
      let newY = rect.top + moveY - main.getBoundingClientRect().top;

      newX = Math.min(main.clientWidth - rect.width - 10, Math.max(10, newX));
      newY = Math.min(main.clientHeight - rect.height - 10, Math.max(10, newY));

      noBtn.style.left = newX + "px";
      noBtn.style.top = newY + "px";
    }
  }

  main.addEventListener("mousemove", e => moveButton(e.offsetX + main.getBoundingClientRect().left, e.offsetY + main.getBoundingClientRect().top));
  main.addEventListener("touchmove", e => {
    if (e.touches.length > 0) moveButton(e.touches[0].clientX, e.touches[0].clientY);
  });
}

// Floating emojis ðŸ’– ðŸ˜˜ ðŸ¥° (scroll-safe, appear above image)
const imgElement = document.querySelector("#main img");
let emojiInterval;

function createFloatingEmoji() {
  const emojis = ["ðŸ’–", "ðŸ˜˜", "ðŸ¥°"];
  const emoji = document.createElement("div");
  emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
  emoji.style.position = "absolute";
  emoji.style.fontSize = `${Math.floor(Math.random() * 24) + 16}px`;
  emoji.style.pointerEvents = "none";
  emoji.style.transition = "all 1.5s linear";

  // Get image position + scroll
  const rect = imgElement.getBoundingClientRect();
  const scrollTop = window.scrollY || document.documentElement.scrollTop;
  const scrollLeft = window.scrollX || document.documentElement.scrollLeft;

  emoji.style.left = `${rect.left + scrollLeft + Math.random() * rect.width}px`;
  emoji.style.top = `${rect.top + scrollTop + rect.height / 2}px`;

  document.body.appendChild(emoji);

  const xMove = (Math.random() - 0.5) * 200;
  const yMove = -150 - Math.random() * 100;

  setTimeout(() => {
    emoji.style.transform = `translate(${xMove}px, ${yMove}px) rotate(${Math.random() * 360}deg)`;
    emoji.style.opacity = 0;
  }, 50);

  setTimeout(() => emoji.remove(), 1600);
}

function startFloatingEmojis() {
  if (!emojiInterval) emojiInterval = setInterval(createFloatingEmoji, 200);
}

function stopFloatingEmojis() {
  clearInterval(emojiInterval);
  emojiInterval = null;
}

// Desktop hover
imgElement.addEventListener("mouseenter", startFloatingEmojis);
imgElement.addEventListener("mouseleave", stopFloatingEmojis);

// Mobile tap
imgElement.addEventListener("touchstart", startFloatingEmojis);
imgElement.addEventListener("touchend", stopFloatingEmojis);
</script>

</body>
</html>
